<div class='row'>
  <div class='col-lg-12'>
    <div class='alert alert-light'>
      <%= link_to_back(:back) %>
    </div>
    <div class='card'>
      <div class='card-header'>
        <%= fa_icon 'users' %><b><%= t('.students', course_name: @course.name) %></b>
        <span class='pull-right'>
          <input type="submit" value=<%= t('save') %> class="btn btn-outline-success btn-sm" form="grades_form">
        </span>
      </div>
      <div class='card-body'>
        <%= form_tag(given_course_assessment_grades_path(@course, @assessment), id: 'grades_form') do %> 
          <table class='table table-sm table-striped'>
            <thead class='thead'>
              <tr>
                <th style='width: 30%'><%= t('.student_number') %></th>
                <th style='width: 40%'><%= t('.name') %></th>
                <th style='width: 20%'><%= t('.year_and_semester') %></th>
                <th style='width: 10%'><%= @assessment.name %></th>
              </tr>
            </thead>
            <tbody>
              <% @assessment.grades.each do |grade| %>
                <%= fields_for "grades[]", grade do |f| %>
                  <tr>
                    <% student = grade.course_enrollment.student %>
                    <td><%= student.student_number %></td>
                    <td><%= full_name(student.user.identities.formal.first) %></td>
                    <td><%= "#{student.year}/#{student.semester}" %></td>
                    <td><%= f.number_field(:point, required: true, class: 'form-control numeric integer required') %></td>
                  </tr>
                <% end %>
              <% end %>
            </tbody>
          </table>
        <% end %>
      </div>
    </div>
  </div>
</div>
