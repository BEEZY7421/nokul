<div class='row'>
  <div class='col-sm-12'>
    <div class='card'>
      <div class='card-header'>
        <%= fa_icon 'key' %>
        <strong><%= t('.account_settings') %></strong>
      </div>
      <div class='card-body'>
        <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
          <div class='row'>
            <div class='form-group col-sm-12'>
              <%= f.error_notification %>
            </div>
            <div class='form-group col-sm-12'>
              <%= f.input :email, autofocus: true %>
            </div>
            <div class='form-group col-sm-6'>
              <%= f.input :password, autocomplete: 'off', hint: t('.leave_blank'), required: false, placeholder: false %>
            </div>
            <div class='form-group col-sm-6'>
              <%= f.input :password_confirmation, required: false, placeholder: false %>
            </div>
            <div class='form-group col-sm-12'>
              <%= f.input :current_password, label: t('.current_password'),
                                             hint: t('.current_password_hint'),
                                             required: true,
                                             placeholder: false %>
            </div>
            <div class='form-group col-sm-12'>
              <%= f.button :submit, class: 'btn btn-outline-success btn-sm' %>
              <%= link_to_back(:back) %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-sm-12'>
    <div class='card'>
      <div class='card-header'>
        <%= fa_icon 'phone' %>
        <strong><%= t('.mobile_phone_updating') %></strong>
      </div>
      <div class='card-body'>
        <%= simple_form_for(resource, url: { action: :phone_verification, controller: 'account/registrations' }, remote: true, html: { method: :put }) do |f| %>
          <div class='row'>
            <div class='form-group col-sm-6'>
              <%= f.label :mobile_phone, required: true %>
              <%= f.input :mobile_phone, type: 'tel', label: false, placeholder: false, required: true %>
            </div>
            <div class='form-group col-sm-12'>
              <%= f.button :submit, t('action_group.update'), class: 'btn btn-outline-success btn-sm' %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<div id='verification_modal' class='modal fade' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true' data-backdrop='static' data-keyboard='false'></div>

<script type='text/javascript'>
  $('#user_country').select2();
  var input = document.querySelector('#user_mobile_phone');

  window.intlTelInput(input, {
    utilsScript: '/assets/shared/intl_tel_input_utils.js',
    nationalMode: false,
    initialCountry: 'tr',
    preferredCountries: ['tr']
  })
</script>
