<div class='row'>
  <div class='col-sm-12'>
    <div class='card'>
      <div class='card-header text-center'>
        <%= fa_icon 'phone' %>
        <strong><%= t('.mobile_phone_updating') %></strong>
      </div>
      <div class='card-body text-center'>
        <%= simple_form_for(current_user, url: { action: :verification, controller: 'account/settings/phones' }, remote: true, html: { method: :put }) do |f| %>
          <div class='row'>
            <div class='form-group col-sm-12'>
              <%= f.input :mobile_phone, type: 'tel', label: false, placeholder: false, required: true, wrapper: false %>
              <span id='error-msg' class='invalid-feedback d-block'></span>
            </div>
            <div class='form-group col-sm-12'>
              <%= f.button :submit, t('action_group.update'), class: 'btn btn-outline-success btn-sm' %>
            </div>
          </div>
        <% end %>
      </div>
      <div class='card-footer'>
        <%= link_to_back(:back) %>
      </div>
    </div>
  </div>
</div>
<div id='verification_modal' class='modal fade' role='dialog' aria-hidden='true' data-backdrop='static' data-keyboard='false'></div>
<%= javascript_include_tag 'shared/intl_tel_input_validation' %>

<script type='text/javascript'>
  $('#user_country').select2();

  TelInputValidation('#user_mobile_phone', '#error-msg', <%= raw t('intl_tel_input.errors').values %>)
</script>

<style media='screen'>
  .iti__flag { background-image: url('https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.2/img/flags.png'); }
</style>
