<div id="chart-for-genders-degree"></div>

<script type="text/javascript">
  Highcharts.chart('chart-for-genders-degree', {
    chart: {
      type: 'column'
    },
    title: {
      text: "<%= t('.title') %>"
    },
    xAxis: {
      categories: <%= sanitize(@degrees.to_json) %>
    },
    yAxis: {
      min: 0,
      title: {
        text: "<%= t('.total_number_of_students') %>"
      },
      stackLabels: { enabled: true }
    },
    tooltip: {
      pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',
      shared: true
    },
    plotOptions: {
      column: {
        stacking: 'percent'
      }
    },
    series: <%= sanitize(@series) %>,
    colors: ['#ffafb0', '#96d1c7', '#fc7978'],
  });
  $('.highcharts-credits').html('')
</script>
